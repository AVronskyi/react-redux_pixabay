{"version":3,"sources":["redux/imagesReducers.js","redux/store.js","components/ImageCard/Tags.jsx","components/ImageCard/ImageCard.jsx","components/ImagesList/ImagesList.jsx","components/ImageDetails/ImageDetails.jsx","components/PageNotFound/PageNotFound.jsx","App.jsx","index.js"],"names":["ActionTypes","defaultState","images","reducers","combineReducers","allImages","state","type","payload","hits","map","image","id","tags","getImages","store","createStore","composeWithDevTools","applyMiddleware","thunk","Tags","useState","newTags","setNewTags","createTags","setCreateTags","dispatch","useDispatch","onDoubleClick","e","style","cursor","value","onChange","target","onClick","className","title","split","tag","user_id","ImageCard","React","memo","to","src","webformatURL","alt","icon","faThumbsUp","likes","faComments","comments","ImagesList","useSelector","query","setQuery","queryForFiltering","setQueryForFiltering","isReversed","setIsReversed","sortBy","setSortBy","filtredImages","useMemo","filter","includes","setQueryWithDebounce","useCallback","debounce","sort","image1","image2","reverse","action","placeholder","ImageDetails","imageId","useParams","find","userImageURL","user","width","faEye","views","faCloudDownloadAlt","downloads","PageNotFound","App","useEffect","a","axios","get","catch","err","console","log","response","data","path","element","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.58b2a152.chunk.js","sourcesContent":["const ActionTypes = {\n  SET_IMAGES: 'SET_IMAGES',\n  CHANGE_IMAGE_TAGS: 'CHANGE_IMAGE_TAGS',\n};\n\nexport const setImages = (images) => {\n  return {\n    type: ActionTypes.SET_IMAGES,\n    payload: images,\n  }\n}\n\nexport const changeImagesTags = (id, tags) => {\n  return {\n    type: ActionTypes.CHANGE_IMAGE_TAGS,\n    payload: { id, tags }\n  }\n}\n\nconst defaultState = {\n  images: [],\n}\n\nexport const imagesReducer = (state = defaultState, { type, payload }) => {\n  switch (type) {\n    case ActionTypes.SET_IMAGES:\n      return {\n        ...state,\n        images: payload.hits\n      }\n\n    case ActionTypes.CHANGE_IMAGE_TAGS:\n      return {\n        ...state,\n        images: state.images.map(image => {\n          if (image.id !== payload.id) {\n            return image\n          }\n\n          return {\n            ...image,\n            tags: payload.tags,\n          }\n        })\n      }\n  \n    default:\n      return state;\n  }\n}\n","import axios from \"axios\";\nimport { applyMiddleware, combineReducers, createStore } from \"redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport thunk from \"redux-thunk\";\nimport { imagesReducer, setImages } from \"./imagesReducers\";\n\nconst reducers = combineReducers({\n  allImages: imagesReducer,\n})\nexport const getImages = (state) => state.allImages.images;\n\nexport const getImage = (id) => {\n  return (state) =>\n    getImages(state).find(image => image.id === id);\n};\n\nexport const loadImages = () => {\n  return async (dispatch) => {\n    const response = await axios\n      .get(\n        `https://pixabay.com/api/?key=24739471-dde7400cd3ecc0d52c1f047aa&q=cats&image_type=all&per_page=100`\n      )\n      .catch((err) => {\n        console.log('Err', err);\n      });\n\n      dispatch(setImages(response.data));\n  };\n}\n\nconst store = createStore(\n  reducers,\n  composeWithDevTools(\n    applyMiddleware(thunk)\n  ),\n)\n\nexport default store;\n","import React, { useState } from 'react'\nimport { useDispatch } from 'react-redux';\nimport { changeImagesTags } from '../../redux/imagesReducers';\n\nexport const Tags = ({image}) => {\n  const [newTags, setNewTags] = useState(image.tags);\n  const [createTags, setCreateTags] = useState(false);\n  const dispatch = useDispatch();\n\n  return (\n    <div\n      onDoubleClick={(e) => setCreateTags(true)}\n      style={{ cursor: 'pointer' }}\n    >\n      {createTags && (\n        <form>\n          <input\n            type='text'\n            value={newTags}\n            onChange={(e) => {\n              setNewTags(e.target.value);\n            }}\n          />\n          <button\n            onClick={(e) => {\n              dispatch(changeImagesTags(image.id, newTags))\n              setCreateTags(false)\n            }}\n          >\n            Save\n          </button>\n\n          <button\n            onClick={(e) => {\n            setNewTags(image.tags);\n            setCreateTags(false);\n          }}\n          >\n            Cancel\n          </button>\n        </form>\n      )}\n      \n      {!createTags && (\n      <ul\n        className=\"tags\"\n        title='double-click to edit tags'\n      >\n        {newTags.split(',').map(tag => \n          <li\n            className=\"tag\"\n            key={tag + image.user_id}\n          >\n            {tag}\n          </li>\n        )}\n      </ul>\n      )}\n    </div>\n  )\n}\n","import { faComments, faThumbsUp } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport React from 'react'\nimport { Link } from 'react-router-dom';\nimport './ImageCard.scss'\nimport { Tags } from './Tags';\n\nconst ImageCard = React.memo(\n  ({ image }) => {\n    return (\n      <div className=\"card\">\n        <div className=\"card__img\">\n          <Link to={`/image/${image.id}`}>\n            <img\n              className=\"image\"\n              src={image.webformatURL}\n              alt={image.tags}\n            />\n          </Link>\n        </div>\n        <div className=\"card__content\">\n          <Tags\n            image={image}\n            key={image.id}\n          />\n          <div className=\"card__info\">\n            <div className=\"info\">\n              <FontAwesomeIcon icon={faThumbsUp} />\n              <span>{image.likes}</span>\n            </div>\n            <div className=\"info\">\n              <FontAwesomeIcon icon={faComments} />\n              <span>{image.comments}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n)\n\nexport default ImageCard;\n","import debounce from 'lodash.debounce';\nimport React, { useCallback, useMemo, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { getImages } from '../../redux/store';\nimport ImageCard from '../ImageCard/ImageCard';\nimport './ImagesList.scss'\n\nconst ImagesList = () => {\n  const images = useSelector(getImages);\n  const [query, setQuery] = useState('');\n  const [queryForFiltering, setQueryForFiltering] = useState('');\n  const [isReversed, setIsReversed] = useState(false);\n  const [sortBy, setSortBy] = useState('default');\n\n  const sortByLikes = () => {\n    setSortBy('likes');\n    setIsReversed(!isReversed);\n  };\n\n  const sortByComments = () => {\n    setSortBy('comments');\n    setIsReversed(!isReversed);\n  };\n\n  const filtredImages = useMemo (() => {\n    return images.filter(image => \n      image.tags.includes(queryForFiltering));\n  }, [images, queryForFiltering]);\n\n  const setQueryWithDebounce = useCallback(\n    debounce(setQueryForFiltering, 300),\n    []\n  );\n\n  filtredImages.sort((image1, image2) => {\n    switch (sortBy) {\n      case 'likes':\n      case 'comments':\n        return image1[sortBy] - image2[sortBy];\n\n      default:\n        return 0;\n    }\n  })\n\n  if (isReversed) {\n    filtredImages.reverse();\n  }\n\n  return (\n    <div className=\"imagesList\">\n      <header className=\"header\">\n        <form action=\"#\" className=\"header__search\">\n          <input\n            className=\"header__input\"\n            type=\"search\"\n            placeholder=\"Search\"\n            aria-label=\"Search\"\n            value={query}\n            onChange={(e) => {\n              setQuery(e.target.value);\n              setQueryWithDebounce(e.target.value);\n            }}\n          />\n        </form>\n        <div className=\"sortButtons\">\n          <button\n            onClick={sortByLikes}\n          >\n            Sort by like\n            {sortBy === 'likes' && (isReversed ? '▲' : '▼')}\n          </button>\n\n          <button\n            onClick={sortByComments}\n          >\n            Sort by comment \n            {sortBy === 'comments' && (isReversed ? '▲' : '▼')}\n          </button>\n        </div>\n\n      </header>\n      <div className=\"cards\">\n        {filtredImages.map(image => \n          <ImageCard\n            image={image}\n            key={image.id}\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default ImagesList;\n","import { faCloudDownloadAlt, faComments, faEye, faThumbsUp } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport React from 'react'\nimport { useSelector } from 'react-redux';\nimport { Link, useParams } from 'react-router-dom';\nimport { getImage } from '../../redux/store';\nimport './ImageDetails.scss'\n\nconst ImageDetails = () => {\n  const { imageId } = useParams();\n  const image = useSelector(getImage(+imageId));\n\n  if(!image) {\n    return <div>Loading...</div>\n  }\n\n  return (\n    <div className=\"imageDetails\">\n      <div className=\"backLink\">\n        <Link to='/' className='link'>\n          ᐸ Back To All images\n        </Link>\n      </div>\n    <div className=\"details__card\">\n\n      <div className=\"cardImage\">\n        <img\n          className=\"photo\"\n          src={image.webformatURL}\n          alt={image.tags}\n        />\n      </div>\n      <div className=\"description\">\n        <div>\n          <img\n            src={image.userImageURL}\n            className='round-img'\n            alt={image.user}\n            style={{ width: '150px' }}\n          />\n        </div>\n        <h2 className=\"name\">{image.user}</h2>\n        <h3 className=\"cardTags\">Tags: {image.tags}</h3>\n          <div className=\"cardInfo\">\n            <FontAwesomeIcon icon={faThumbsUp} />\n            <span>{image.likes}</span>\n          </div>\n          <div className=\"cardInfo\">\n            <FontAwesomeIcon icon={faComments} />\n            <span>{image.comments}</span>\n          </div>\n          <div className=\"cardInfo\">\n            <FontAwesomeIcon icon={faEye} />\n            <span>{image.views}</span>\n          </div>\n          <div className=\"cardInfo\">\n            <FontAwesomeIcon icon={faCloudDownloadAlt} />\n            <span>{image.downloads}</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ImageDetails;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nconst PageNotFound = () => {\n  return (\n    <>\n      <div className=\"backLink\">\n        <Link to='/' className='link'>\n          ᐸ Back To All images\n        </Link>\n      </div>\n      <h1>Ooops... Page not found!</h1>\n    </>\n  );\n}\n\nexport default PageNotFound;\n","import React, { useEffect } from 'react';\nimport { BrowserRouter as Router, Route, Routes } from 'react-router-dom';\nimport ImagesList from './components/ImagesList/ImagesList'\nimport ImageDetails from './components/ImageDetails/ImageDetails';\nimport './App.scss'\nimport { useDispatch } from 'react-redux';\nimport { loadImages } from './redux/store';\nimport PageNotFound from './components/PageNotFound/PageNotFound';\n\nfunction App() {\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(loadImages())\n  }, [dispatch])\n\n  return (\n    <Router>\n        <Routes>\n          <Route path=\"/\" element={<ImagesList />}/>\n          <Route path=\"/image/:imageId\" element={<ImageDetails />}/>\n          <Route path=\"*\" element={<PageNotFound />} />\n        </Routes>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport App from './App';\nimport store from './redux/store';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}